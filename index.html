<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="AD ASTRA is a future-oriented coding & innovation academy for ages 4–18: hands-on coding, AI, robotics, product creation, and entrepreneurship." />
  
  <link rel="canonical" href="https://adastracoding.com/">
  <link rel="icon" type="image/png" href="favicon.ico" />
  <link rel="stylesheet" href="style.css" />
  
  <title>AD ASTRA – Coding School for Future Tech Leaders</title>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "@id": "https://adastracoding.com/#organization",
      "name": "AD ASTRA",
      "url": "https://adastracoding.com",
      "logo": "https://adastracoding.com/src/assets/img/logo.png",
      "telephone": "+62-0811-1333-870",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Jl. RS. Fatmawati Raya No.9, RT.1/RW.3, Cilandak Bar., Kec. Cilandak, Kota Jakarta Selatan, Daerah Khusus Ibukota Jakarta 10240",
        "addressLocality": "Jakarta Selatan",
        "postalCode": "10240",
        "addressCountry": "ID"
      },
      "sameAs": [
        "https://www.instagram.com/adastracoding"
      ],
      "openingHours": "Mo-Fr 10:00-18:00"
    }
  </script>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "itemListElement": [
        {
          "@type": "SiteNavigationElement",
          "position": 1,
          "name": "Purpose",
          "url": "https://www.adastracoding.com/#/about"
        },
        {
          "@type": "SiteNavigationElement",
          "position": 2,
          "name": "Problem & Solution",
          "url": "https://www.adastracoding.com/#/problem-solution"
        },
        {
          "@type": "SiteNavigationElement",
          "position": 3,
          "name": "Roadmap",
          "url": "https://www.adastracoding.com/#/roadmap"
        },
        {
          "@type": "SiteNavigationElement",
          "position": 4,
          "name": "Deliverables",
          "url": "https://www.adastracoding.com/#/deliverables"
        }
      ]
    }
  </script>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Person",
          "name": "Rivendi Al-isa N",
          "jobTitle": "Chief Technology Officer",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/rivendi-al-isa.JPG",
          "url": "https://adastracoding.com/#/team"
        },
        {
          "@type": "Person",
          "name": "Faizan Chaudhary",
          "jobTitle": "Senior Instructor",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/faizan-chaudhary.JPG",
          "url": "https://adastracoding.com/#/team"
        },
        {
          "@type": "Person",
          "name": "Anisa Nurjanah",
          "jobTitle": "Instructor",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/anisa-nurjanah.JPG",
          "url": "https://adastracoding.com/#/team"
        },
        {
          "@type": "Person",
          "name": "Fairuz Alkansyu",
          "jobTitle": "Instructor",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/fairuz-alkansyu.JPG",
          "url": "https://adastracoding.com/#/team"
        },
        {
          "@type": "Person",
          "name": "Dr. MS Khan",
          "jobTitle": "Co-Founder",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/dr-ms-khan.JPG",
          "url": "https://adastracoding.com/#/team"
        },
        {
          "@type": "Person",
          "name": "Dilraj Rahal",
          "jobTitle": "Co-Founder",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/dilraj-rahal.JPG",
          "url": "https://adastracoding.com/#/team"
        },
        {
          "@type": "Person",
          "name": "Zubyan Chaudhary",
          "jobTitle": "Co-Founder",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/zubyan-chaudhary.JPG",
          "url": "https://adastracoding.com/#/team"
        },
        {
          "@type": "Person",
          "name": "Christiani Engelina Senduk",
          "jobTitle": "Principal",
          "worksFor": {
            "@id": "https://adastracoding.com/#organization"
          }
          "image": "https://adastracoding.com/src/assets/img/team/christiani-engelina-senduk.JPG",
          "url": "https://adastracoding.com/#/team"
        }
      ]
    }
  </script>
</head>
<body>
<div id="app"></div>
<script type="module" src="/src/main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function(){
  const body = document.body;
  const header = document.getElementById('appHeader');

  /* ===== WA config ===== */
  const WA_PHONE = '628111333870'; // tanpa +, sesuai instruksi
  function openWhatsApp(message){
    const url = `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  }

  /* ===== ELEMENTS needed early (so safe in router) ===== */
  const menu = document.getElementById('mobileMenu');
  const closeBtn = document.getElementById('closeMenu');
  const bottomToggle = document.getElementById('bottomToggle');

  /* ===== PAGE TRANSITION overlay ===== */
  const pageTrans = document.getElementById('pageTrans');
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  // Jalankan animasi transisi: cover -> swap -> uncover
  function runPageTransition(color /* 'black' | 'white' */, onMidpoint){
    // Atur warna overlay
    if (color === 'white') pageTrans.classList.add('is-white');
    else pageTrans.classList.remove('is-white');

    // Jika user reduce motion, langsung swap tanpa animasi
    if (prefersReduced) {
      onMidpoint?.();
      return;
    }

    // Step 1: COVER (scaleY 0 -> 1 dari atas)
    pageTrans.classList.remove('uncover');
    void pageTrans.offsetHeight; // reflow reset
    pageTrans.classList.add('cover');

    const coverDuration = parseFloat(getComputedStyle(pageTrans).transitionDuration) * 1000 || 420;

    // Step 2: di tengah animasi cover selesai -> SWAP CONTENT lalu UN-COVER
    setTimeout(()=>{
      onMidpoint?.();

      // ubah origin jadi bottom dan animasikan buka (scaleY 1 -> 0)
      pageTrans.classList.remove('cover');
      void pageTrans.offsetHeight;
      pageTrans.classList.add('uncover');

      // Bersihkan state setelah selesai buka
      const cleanup = () => {
        pageTrans.classList.remove('uncover');
        pageTrans.removeEventListener('transitionend', cleanup);
      };
      pageTrans.addEventListener('transitionend', cleanup, { once:true });
    }, coverDuration);
  }

  /* ===== MENU helpers BEFORE router ===== */
  function setBottomLabel(open){
    if(!bottomToggle) return;
    bottomToggle.textContent = open ? '✕ Close' : '☰ Menu';
    bottomToggle.classList.toggle('close-state', open);
  }
  function openMenu(){
    if(!menu) return;
    menu.classList.remove('d-none'); menu.setAttribute('aria-hidden','false');
    body.style.overflow='hidden'; setBottomLabel(true);
  }
  function closeMenu(){
    if(!menu) return;
    menu.classList.add('d-none'); menu.setAttribute('aria-hidden','true');
    body.style.overflow=''; setBottomLabel(false);
  }

  /* ===== Hide-on-scroll header ===== */
  let lastY = window.scrollY, hidden=false, ticking=false;
  function onScroll(){
    const y = window.scrollY, down = y > lastY, delta = Math.abs(y-lastY);
    if(delta>6){
      if(down && y>90 && !hidden){ header.classList.add('header-hidden'); hidden=true; }
      else if(!down && hidden){ header.classList.remove('header-hidden'); hidden=false; }
      lastY = y;
    }
  }
  window.addEventListener('scroll', ()=>{ if(!ticking){ requestAnimationFrame(()=>{ onScroll(); ticking=false; }); ticking=true; } }, {passive:true});

  /* ===== Simple Router (with anchor support e.g. #/about#raise) ===== */
  const PAGES = [...document.querySelectorAll('[data-page]')].reduce((m,el)=> (m[el.dataset.page]=el,m),{});
  const LINKS = document.querySelectorAll('[data-route]');

  function setActiveLink(name){
    LINKS.forEach(a=>{
      const href = a.getAttribute('href')||'';
      const match = href.startsWith('#/') && href.slice(2).split('#')[0]===name;
      a.classList.toggle('active', match);
    });
  }
  function showPage(name){
    Object.entries(PAGES).forEach(([k,el])=> el.classList.toggle('active',k===name));
    window.scrollTo({top:0,behavior:'auto'});
    setActiveLink(name);
    closeMenu();
  }

  // Simpan “warna transisi yang diminta” dari klik link terakhir
  let pendingTransitionColor = null; // 'black' | 'white' | null

  // Parse route + jalankan transisi saat pindah page
  let firstLoad = true;
  function parseRoute(){
    const hash = location.hash || '#/home';
    const slice = hash.startsWith('#/') ? hash.slice(2) : 'home';
    const parts = slice.split('#');
    const name = parts[0] || 'home';
    const anchor = parts[1] || '';

    // kalau pertama kali load: tampilkan tanpa animasi agar cepat
    if (firstLoad) {
      firstLoad = false;
      PAGES[name] ? showPage(name) : showPage('home');
      if(anchor){
        setTimeout(()=> document.getElementById(anchor)?.scrollIntoView({behavior:'smooth', block:'start'}), 50);
      }
      return;
    }

    // Warna transisi: pakai pending kalau ada, default 'black'
    const color = pendingTransitionColor || 'black';
    pendingTransitionColor = null;

    runPageTransition(color, ()=>{
      PAGES[name] ? showPage(name) : showPage('home');
      if(anchor){
        setTimeout(()=> document.getElementById(anchor)?.scrollIntoView({behavior:'smooth', block:'start'}), 50);
      }
    });
  }
  window.addEventListener('hashchange', parseRoute);
  parseRoute();

  /* ===== Bind menu buttons ===== */
  bottomToggle?.addEventListener('click', ()=> menu.classList.contains('d-none') ? openMenu() : closeMenu());
  closeBtn?.addEventListener('click', closeMenu);
  menu?.addEventListener('click', (e)=>{ if(e.target===menu) closeMenu(); });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && !menu.classList.contains('d-none')) closeMenu(); });

  /* ===== Delegate route clicks =====
     Tangkap klik ke [data-route], set pendingTransitionColor dari data-trans. */
  document.addEventListener('click', (e)=>{
    const a = e.target.closest('[data-route]');
    if(!a) return;
    const href = a.getAttribute('href')||'';
    // simpan warna transisi yang diminta link (default hitam)
    pendingTransitionColor = (a.getAttribute('data-trans') === 'white') ? 'white' : 'black';
    if(href.startsWith('#/')) closeMenu();
  });

  /* ===== Popup video ===== */
  const popup = document.getElementById('popup');
  const popupVideo = document.getElementById('popupVideo');
  document.getElementById('heroThumb')?.addEventListener('click', ()=>{ popup.classList.remove('d-none'); });
  popup?.addEventListener('click', ()=>{ popupVideo.pause(); popup.classList.add('d-none'); });

  /* ===== FAQ toggles ===== */
  document.querySelectorAll('.faq .item .q').forEach(q=>{
    q.addEventListener('click', ()=> q.parentElement.classList.toggle('open'));
  });

  /* ====== All buttons with data-wa -> open WhatsApp ====== */
  document.querySelectorAll('[data-wa]').forEach(btn=>{
    btn.addEventListener('click', (ev)=>{
      ev.preventDefault();
      const label = btn.getAttribute('data-wa-label') || btn.textContent.trim();
      openWhatsApp(`Hello AD ASTRA! I’d like to ${label}.`);
    });
  });

  /* ====== Form submit -> WhatsApp message ====== */
  const form = document.getElementById('waEnrollForm');
  form?.addEventListener('submit', (e)=>{
    e.preventDefault();
    const data = new FormData(form);
    const parentName = (data.get('parent_name')||'').toString().trim();
    const childName  = (data.get('child_name')||'').toString().trim();
    const childAge   = (data.get('child_age')||'').toString().trim();
    const phone      = (data.get('phone')||'').toString().trim();
    const inquiry    = (data.get('inquiry')||'').toString().trim();

    const msg = [
      'AD ASTRA – Enroll / Trial',
      `Parent's Name: ${parentName}`,
      `Child's Name: ${childName}`,
      `Child's Age: ${childAge}`,
      `Phone Number: ${phone}`,
      inquiry ? `Inquiry: ${inquiry}` : null
    ].filter(Boolean).join('\n');

    openWhatsApp(msg);
  });

});
</script>
</body>
</html>
